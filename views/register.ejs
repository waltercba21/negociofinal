<%- include ./layouts/head.ejs %>
<%- include ./layouts/header.ejs %>
<html>
<body>
<main>
   <div class="register-form">
    
    <h2>Registrate</h2>

    <form action="./register" method="post" class="formulario-register">

        <label for="nombre">Nombre Completo</label>
        <input type="text" name="nombre" value="<%= locals.oldData ? oldData.nombre : '' %>">
        <% if (locals.errors && errors.nombre) { %>
          <div class="error">
           <%= errors.nombre.msg %>
          </div>
         <% } %>

        <label for="apellido">Apellido</label>
        <input type="text" name="apellido" value="<%= locals.oldData ? oldData.apellido : '' %>">
        <% if (locals.errors && errors.apellido) { %>
          <div class="error">
           <%= errors.apellido.msg %>
          </div>
         <% } %>

        <label for="email">Email</label>
        <input type="text" name="email" value="<%= locals.oldData ? oldData.email : '' %>">
        <% if (locals.errors && errors.email) { %>
          <div class="error">
           <%= errors.email.msg %>
          </div>
         <% } %>
         <% if (locals.errors && errors.emailExists) { %>
          <div class="error">
           <%= errors.emailExists.msg %>
          </div>
         <% } %>

        <label for="password">Contraseña</label>
        <input type="password" name="password" value="<%= locals.oldData ? oldData.password : '' %>">
        <% if (locals.errors && errors.password) { %>
          <div class="error">
           <%= errors.password.msg %>
          </div>
         <% } %>

        <label for="telefono">Teléfono</label>
        <input type="text" name="celular" value="<%= locals.oldData ? oldData.celular : '' %>">
        <% if (locals.errors && errors.celular) { %>
          <div class="error">
           <%= errors.celular.msg %>
          </div>
         <% } %>

        <label for="direccion">Dirección</label>
        <input type="text" name="direccion" value="<%= locals.oldData ? oldData.direccion : '' %>">
        <% if (locals.errors && errors.direccion) { %>
          <div class="error">
           <%= errors.direccion.msg %>
          </div>
         <% } %>

        <label for="localidad">Localidad</label>
        <input type="text" name="localidad" value="<%= locals.oldData ? oldData.localidad : '' %>">
        <% if (locals.errors && errors.localidad) { %>
          <div class="error">
           <%= errors.localidad.msg %>
          </div>
         <% } %>

        <label for="provincia">Provincia</label>
        <input type="text" name="provincia" value="<%= locals.oldData ? oldData.provincia : '' %>">
        <% if (locals.errors && errors.provincia) { %>
          <div class="error">
           <%= errors.provincia.msg %>
          </div>
         <% } %>

        <label for="fecha_nacimiento">Fecha de Nacimiento</label>
        <input type="date" name="fecha_nacimiento" value="<%= locals.oldData ? oldData.fecha_nacimiento : '' %>">
        <% if (locals.errors && errors.fecha_nacimiento) { %>
          <div class="error">
           <%= errors.fecha_nacimiento.msg %>
          </div>
         <% } %>

        <label for="acepto_terminos">
            <input type="checkbox" name="acepto_terminos" <%= locals.oldData && oldData.acepto_terminos ? 'checked' : '' %> required>
            Acepto los <a href="/terminos" target="_blank">términos y condiciones</a>
        </label>
        <% if (locals.errors && errors.acepto_terminos) { %>
          <div class="error">
           <%= errors.acepto_terminos.msg %>
          </div>
         <% } %>

        <div class="btn-guardar">
            <input type="submit" value="Guardar" class="btn-register"> 
            <a href="/" class="btn-cancel">Cancelar</a> 
        </div>

    </form>
  </div>
</main>
    <%- include ./layouts/footer.ejs %>
</body>
</html>
