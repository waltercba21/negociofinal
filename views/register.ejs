<%- include ./layouts/head.ejs %>
<%- include ./layouts/header.ejs %>

<html>
<body>
<main>
  <div class="register-form">
    <h2>Regístrate</h2>
    <form action="/register" method="post" class="formulario-register" autocomplete="off" onsubmit="return validarFormulario()">
      <label for="nombre">Nombre Completo</label>
      <input type="text" name="nombre" value="<%= locals.oldData ? oldData.nombre : '' %>">

      <label for="apellido">Apellido</label>
      <input type="text" name="apellido" value="<%= locals.oldData ? oldData.apellido : '' %>">

      <label for="email">Email</label>
      <input type="text" name="email" value="<%= locals.oldData ? oldData.email : '' %>">

      <label for="provincia">Provincia</label>
      <select id="provincia" name="provincia" required>
        <option value="">Selecciona una provincia</option>
      </select>

      <label for="localidad">Localidad</label>
      <select id="localidad" name="localidad" required>
        <option value="">Selecciona una localidad</option>
      </select>

      <label for="password">Contraseña</label>
      <div class="password-container">
        <input type="password" name="password" id="password-input" required>
        <i id="eye-icon" class="fas fa-eye"></i>
      </div>
      <small id="password-tooltip" style="display:none; color: gray;">La contraseña debe tener al menos 8 caracteres, 1 mayúscula y 1 número.</small>

      <label for="confirmar_password">Confirmar Contraseña</label>
      <input type="password" name="confirmar_password" required>

      <label for="telefono">Teléfono</label>
      <input type="text" name="celular" value="<%= locals.oldData ? oldData.celular : '' %>">

      <label for="direccion">Dirección</label>
      <input type="text" name="direccion" value="<%= locals.oldData ? oldData.direccion : '' %>">

      <label for="fecha_nacimiento">Fecha de Nacimiento</label>
      <input type="date" name="fecha_nacimiento" value="<%= locals.oldData ? oldData.fecha_nacimiento : '' %>">

      <label for="acepto_terminos">
        <input type="checkbox" name="acepto_terminos" <%= locals.oldData && oldData.acepto_terminos ? 'checked' : '' %> required>
        Acepto los <a href="/terminos" target="_blank">términos y condiciones</a>
      </label>

      <div class="btn-guardar">
        <input type="submit" value="Guardar" class="btn-register">
        <a href="/" class="btn-cancel">Cancelar</a>
      </div>
    </form>
  </div>
</main>

<%- include ./layouts/footer.ejs %>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/js/all.min.js"></script>
<script src="/js/register.js"></script>
</body>
</html>
