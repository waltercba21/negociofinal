<%- include('./layouts/head.ejs') %>
<%- include('./layouts/header.ejs') %>
<body>
<main>
    <h2>Detalle del Presupuesto</h2>
    <table>
      <thead>
        <tr>
          <th>Producto</th>
          <th>Cantidad</th>
          <th>Precio Unitario</th>
          <th>Subtotal</th>
        </tr>
      </thead>
      <tbody>
        <% if (detalles && detalles.length > 0) { %>
            <% detalles.forEach(item => { %>
            <tr>
                <td><%= item.nombre_producto %></td>
                <td><%= item.cantidad %></td>
                <td><%= item.precio_unitario ? item.precio_unitario : 'No disponible' %></td>
                <td><%= item.subtotal %></td>
            </tr>
            <% }); %>
        <% } else { %>
            <tr>
                <td colspan="4">No hay datos disponibles.</td>
            </tr>
        <% } %>
      </tbody>
    </table>
    
</main>
<%- include('./layouts/footer.ejs') %>
<script src="/js/buscadorPresupuesto.js"></script>
</body>
