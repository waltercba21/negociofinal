<%- include('./layouts/head.ejs') %>
<%- include('./layouts/header.ejs') %>

<body>
<main class="container-fluid p-4">

  <!-- CONTENEDOR DE PROVEEDORES -->
  <section class="mb-5">
    <div class="border border-dark p-3 bg-light">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h4 class="m-0 fw-bold text-uppercase">Gestión de Proveedores</h4>
        <button class="btn btn-dark" id="btnAgregarProveedor">+ Agregar Proveedor</button>
      </div>

      <div class="row" id="contenedorProveedores">
        <% proveedores.forEach(proveedor => { %>
          <div class="col-md-4 mb-3">
            <div class="p-3 border border-dark h-100 bg-white shadow-sm proveedor-card" data-id="<%= proveedor.id %>" style="cursor: pointer;">
              <h6 class="fw-bold mb-1"><%= proveedor.nombre %></h6>
              <p class="mb-0"><small><%= proveedor.ciudad || '-' %>, <%= proveedor.provincia || '-' %></small></p>
            </div>
          </div>
        <% }); %>
      </div>
    </div>
  </section>

  <!-- MODAL DETALLE / EDICIÓN -->
  <div class="modal fade" id="modalProveedor" tabindex="-1">
    <div class="modal-dialog modal-lg">
      <div class="modal-content border border-dark rounded-0">
        <div class="modal-header bg-dark text-white">
          <h5 class="modal-title" id="modalProveedorLabel">Proveedor</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <form id="formProveedor">
            <input type="hidden" id="proveedorId">
            <div class="row g-3">
              <!-- Campos como en la versión anterior -->
              <!-- Nombre, contacto, ciudad, CUIT, etc -->
            </div>
            <div class="text-end mt-4">
              <button type="submit" class="btn btn-success">Guardar Cambios</button>
              <button type="button" class="btn btn-danger" id="btnEliminarProveedor">Eliminar</button>
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

</main>
<%- include('./layouts/footer.ejs') %>
<script src="/js/proveedores.js"></script>
</body>
