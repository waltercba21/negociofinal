<%- include('./layouts/head.ejs') %>
<%- include('./layouts/header.ejs') %>

<body>
<main class="container-fluid p-4">

<!-- CONTENEDOR DE PROVEEDORES -->
<section class="mb-5">
  <div class="card shadow border border-dark rounded p-3" style="max-width: 400px;">
    <h5 class="fw-bold mb-3">Proveedor</h5>

    <!-- Select de proveedores -->
    <select id="selectProveedor" class="form-select mb-3">
      <option value="">Seleccionar proveedor...</option>
      <% proveedores.forEach(prov => { %>
        <option value="<%= prov.id %>"><%= prov.nombre %></option>
      <% }) %>
    </select>

    <!-- Área para mostrar los datos -->
    <div id="detalleProveedor" class="small" style="min-height: 150px;">
      <p class="text-muted">Seleccioná un proveedor para ver sus datos.</p>
    </div>
  </div>
  <!-- Botones de acción -->
<div class="d-flex gap-2 justify-content-end">
  <button id="btnNuevoProveedor" class="btn btn-sm btn-success">+ Nuevo</button>
  <button id="btnEditarProveedor" class="btn btn-sm btn-warning" disabled>Editar</button>
  <button id="btnEliminarProveedorDirecto" class="btn btn-sm btn-danger" disabled>Eliminar</button>
</div>
</section>


  <!-- MODAL DETALLE / EDICIÓN -->
  <div class="modal fade" id="modalProveedor" tabindex="-1">
    <div class="modal-dialog modal-lg">
      <div class="modal-content border border-dark rounded-0">
        <div class="modal-header bg-dark text-white">
          <h5 class="modal-title" id="modalProveedorLabel">Proveedor</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <form id="formProveedor">
            <input type="hidden" id="proveedorId">
            <div class="row g-3">

              <!-- Nombre, contacto, ciudad, CUIT, etc -->
            </div>
            <div class="text-end mt-4">
              <button type="submit" class="btn btn-success">Guardar Cambios</button>
              <button type="button" class="btn btn-danger" id="btnEliminarProveedor">Eliminar</button>
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

</main>
<%- include('./layouts/footer.ejs') %>
<script src="/js/proveedores.js"></script>
</body>
