<%- include('./layouts/head.ejs') %>
<%- include('./layouts/header.ejs') %>

<body>
  <main class="contenedor-proveedores">

    <!-- CONTENEDOR PRINCIPAL -->
    <section class="panel-proveedores">
      <div class="card-proveedor">
        <h5 class="titulo-proveedor">Proveedor</h5>
  
        <!-- Select de proveedores -->
        <select id="selectProveedor" class="form-select">
          <option value="">Cargando...</option>
        </select>
        <!-- Detalle -->
        <div id="detalleProveedor" class="detalle-proveedor">
          <p class="text-muted">Seleccioná un proveedor</p>
          <p id="bloqueDescuentoProveedor" class="d-none">
            <strong>Descuento:</strong> <span id="descuentoProveedorView">-</span>
          </p>
          
        </div>
  
        <!-- Acciones -->
        <div class="acciones-proveedor">
          <button id="btnNuevoProveedor" class="btn btn-sm btn-success">+ Nuevo</button>
          <button id="btnEditarProveedor" class="btn btn-sm btn-warning" disabled>Editar</button>
          <button id="btnEliminarProveedorDirecto" class="btn btn-sm btn-danger" disabled>Eliminar</button>
        </div>
      </div>
    </section>
  
    <!-- MODAL -->
    <div class="modal fade" id="modalProveedor" tabindex="-1" aria-labelledby="modalProveedorLabel" aria-hidden="true">
      <div class="modal-dialog modal-xl modal-proveedor-dialog">
        <div class="modal-content modal-proveedor-content">
          <div class="modal-header modal-proveedor-header">
            <h5 class="modal-title" id="modalProveedorLabel">
              <i class="bi bi-person-lines-fill me-2"></i>Datos del Proveedor
            </h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Cerrar"></button>
          </div>
  
          <form id="formProveedor" class="modal-proveedor-form needs-validation" novalidate>
            <input type="hidden" name="id" id="proveedorId">
  
            <div class="modal-body modal-proveedor-body">
              <div class="row g-3">
                <div class="col-md-4">
                  <label for="nombre" class="form-label">Nombre / Empresa</label>
                  <input type="text" class="form-control" name="nombre" id="nombre" autocomplete="off" required>
                </div>
                <div class="col-md-4">
                  <label for="contacto" class="form-label">Contacto</label>
                  <input type="text" class="form-control" name="contacto" autocomplete="off" id="contacto">
                </div>
                <div class="col-md-4">
                  <label for="telefono" class="form-label">Teléfono</label>
                  <input type="text" class="form-control" name="telefono" autocomplete="off" id="telefono">
                </div>
                <div class="col-md-4">
                  <label for="mail" class="form-label">Email</label>
                  <input type="email" class="form-control" name="mail" autocomplete="off" id="mail">
                </div>
                <div class="col-md-4">
                  <label for="direccion" class="form-label">Dirección</label>
                  <input type="text" class="form-control" name="direccion" autocomplete="off" id="direccion">
                </div>
                <div class="col-md-4">
                  <label for="ciudad" class="form-label">Ciudad</label>
                  <input type="text" class="form-control" name="ciudad" autocomplete="off" id="ciudad">
                </div>
                <div class="col-md-4">
                  <label for="provincia" class="form-label">Provincia</label>
                  <input type="text" class="form-control" name="provincia" autocomplete="off" id="provincia">
                </div>
                <div class="col-md-4">
                  <label for="cuit" class="form-label">CUIT</label>
                  <input type="text" class="form-control" name="cuit" autocomplete="off" id="cuit">
                </div>
                <div class="col-md-4">
                  <label for="banco" class="form-label">Banco</label>
                  <input type="text" class="form-control" name="banco" autocomplete="off" id="banco">
                </div>
                <div class="col-md-4">
                  <label for="cbu" class="form-label">CBU</label>
                  <input type="text" class="form-control" name="cbu" autocomplete="off" id="cbu">
                </div>
                <div class="col-md-4">
                  <label for="alias" class="form-label">Alias</label>
                  <input type="text" class="form-control" name="alias" autocomplete="off" id="alias">
                </div>
                <div class="col-md-4">
                  <label for="descuento" class="form-label">Descuento (%)</label>
                  <input type="number" class="form-control" autocomplete="off" name="descuento" id="descuento" min="0" max="100" step="0.01">
                </div>
              </div>
            </div>
  
            <div class="modal-footer modal-proveedor-footer">
              <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
                <i class="bi bi-x-circle me-1"></i>Cancelar
              </button>
              <div class="d-flex gap-2">
                <button type="button" class="btn btn-danger d-none" id="btnEliminarProveedor">
                  <i class="bi bi-trash me-1"></i>Eliminar
                </button>
                <button type="submit" class="btn btn-success">
                  <i class="bi bi-check2-circle me-1"></i>Guardar Cambios
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </main>
  
<%- include('./layouts/footer.ejs') %>
<script src="/js/proveedores.js"></script>
</body>
