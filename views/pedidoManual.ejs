<!-- Vista estilizada de Pedido Manual -->
<%- include('./layouts/head.ejs') %>
<%- include('./layouts/header.ejs') %>
<body>
  <main class="pedido-container">
    <h2 class="titulo-pedido">Nuevo Pedido a Proveedor</h2>

    <div class="grupo-form">
      <label for="proveedores">Proveedor:</label>
      <select class="proveedores select-pedido" name="proveedores[]">
        <option selected disabled>Seleccione un proveedor</option>
        <% proveedores.forEach(function(proveedor) { %>
          <option value="<%= proveedor.id %>"><%= proveedor.nombre %> (Desc: <%= proveedor.descuento || 0 %>%)</option>
        <% }); %>
      </select>
    </div>

    <div class="buscador-pedido">
      <input type="text" id="entradaBusqueda" class="input-busqueda" placeholder="¿Qué estás buscando?" autocomplete="off">
    </div>

    <div id="contenedor-productos"></div>

    <div class="tabla-contenedor">
      <table id="tabla-pedido" class="tabla-pedido">
        <thead>
          <tr>
            <th>Código</th>
            <th>Nombre</th>
            <th>Precio Unitario</th>
            <th>Cantidad</th>
            <th>Total</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody id="tabla-pedido-body"></tbody>
        <tfoot>
          <tr>
            <td colspan="5" class="text-right">Total del pedido:</td>
            <td id="total-pedido" class="total-pedido-num">$0</td>
          </tr>
        </tfoot>
      </table>
    </div>

    <div class="boton-confirmar-pedido">
      <button id="btn-confirmar" class="btn-confirmar">CONFIRMAR</button>
    </div>
  </main>

  <%- include('./layouts/footer.ejs') %>
  <script src="/js/buscadorPedidoManual.js"></script>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.23/jspdf.plugin.autotable.min.js"></script>
</body>
