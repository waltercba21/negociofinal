/* ================== HOME / INDEX (rediseño UX) ================== */
.body-index main{ margin-bottom: 90px; }

/* ---------- Carrusel categorías: “peek + label visible” ---------- */
.body-index .peliculas-recomendadas{
  margin: 26px 0 34px;
}

/* contenedor del carrusel */
.body-index .peliculas-recomendadas .contenedor-principal{
  position: relative;
}

/* el scroller real (tu JS usa .contenedor-carrousel para scrollLeft) */
.body-index .peliculas-recomendadas .contenedor-carrousel{
  position: relative;
  width: 100%;
  overflow-x: auto;           /* permite wheel/trackpad */
  overflow-y: visible;
  scroll-snap-type: x mandatory;
  scroll-padding: 64px;
  scroll-behavior: smooth;
  padding: 12px 58px;         /* deja “peek” + espacio flechas */
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
}
.body-index .peliculas-recomendadas .contenedor-carrousel::-webkit-scrollbar{ display:none; }

/* fade lateral: indica que hay más contenido (sin agregar HTML) */
.body-index .peliculas-recomendadas .contenedor-carrousel::before,
.body-index .peliculas-recomendadas .contenedor-carrousel::after{
  content:"";
  position:absolute;
  top: 0; bottom: 0;
  width: 58px;
  pointer-events:none;
  z-index: 3;
}
.body-index .peliculas-recomendadas .contenedor-carrousel::before{
  left: 0;
  background: linear-gradient(to right, rgba(255,255,255,.95), rgba(255,255,255,0));
}
.body-index .peliculas-recomendadas .contenedor-carrousel::after{
  right: 0;
  background: linear-gradient(to left, rgba(255,255,255,.95), rgba(255,255,255,0));
}

/* fila */
.body-index .peliculas-recomendadas .contenedor-carrousel .carrousel{
  display:flex;
  gap: 16px;
  flex-wrap: nowrap;
  align-items: stretch;
}

/* item */
.body-index .peliculas-recomendadas .contenedor-carrousel .carrousel .pelicula{
  position: relative;
  flex: 0 0 clamp(280px, 52vw, 640px); /* “uncontained”: 1 grande + peek */
  height: clamp(200px, 42vh, 520px);
  border-radius: 22px;
  overflow: hidden;
  scroll-snap-align: center;
  box-shadow: 0 16px 40px rgba(2,6,23,.18);
  background: #0b1220;
  transform: translateZ(0);
  transition: transform 180ms ease, filter 180ms ease, box-shadow 180ms ease;
}

/* imagen */
.body-index .peliculas-recomendadas .pelicula img{
  width: 100%;
  height: 100%;
  object-fit: cover;
  transform: scale(1.03);
  transition: transform 240ms ease;
}

/* label SIEMPRE visible (no depende de hover) */
.body-index .peliculas-recomendadas .tarjeta-texto{
  position:absolute;
  left:0; right:0; bottom:0;
  inset: auto 0 0 0;
  display:flex;
  align-items:flex-end;
  justify-content:center;
  padding: 16px 18px 18px;
  background: linear-gradient(to top, rgba(2,6,23,.72), rgba(2,6,23,0));
  cursor:pointer;
  z-index: 2;
}
.body-index .peliculas-recomendadas .tarjeta-texto p{
  margin:0;
  font-weight: 900;
  letter-spacing: .06em;
  text-transform: uppercase;
  font-size: clamp(15px, 2.2vw, 26px);
  color:#fff;
  padding: 10px 14px;
  border-radius: 999px;
  background: rgba(15,23,42,.42);
  border: 1px solid rgba(255,255,255,.18);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

/* micro-interacciones (desktop) */
@media (hover:hover){
  .body-index .peliculas-recomendadas .pelicula:hover{
    transform: translateY(-2px) scale(1.01);
    box-shadow: 0 22px 56px rgba(2,6,23,.22);
  }
  .body-index .peliculas-recomendadas .pelicula:hover img{
    transform: scale(1.09);
  }

  /* “coverflow” suave en hover: difumina hermanos (sin JS) */
  .body-index .peliculas-recomendadas .carrousel:has(.pelicula:hover) .pelicula{
    filter: saturate(.92) opacity(.72);
    transform: scale(.94);
  }
  .body-index .peliculas-recomendadas .carrousel:has(.pelicula:hover) .pelicula:hover{
    filter: none;
    opacity: 1;
    transform: translateY(-2px) scale(1.02);
  }
}

/* Flechas: más visibles y modernas (44x44) */
.body-index #flecha-izquierda,
.body-index #flecha-derecha{
  position:absolute;
  top: 50%;
  transform: translateY(-50%);
  z-index: 5;

  width: 46px;
  height: 46px;
  border-radius: 999px;
  border: 1px solid rgba(15,23,42,.12);
  background: rgba(255,255,255,.92);
  box-shadow: 0 14px 34px rgba(2,6,23,.16);
  color: #003f7d;

  display:flex;
  align-items:center;
  justify-content:center;

  cursor:pointer;
  -webkit-tap-highlight-color: transparent;
  transition: transform 180ms ease, background 180ms ease, box-shadow 180ms ease;
}
.body-index #flecha-izquierda{ left: 10px; }
.body-index #flecha-derecha{ right: 10px; }

.body-index #flecha-izquierda i,
.body-index #flecha-derecha i{ font-size: 22px; }

@media (hover:hover){
  .body-index #flecha-izquierda:hover,
  .body-index #flecha-derecha:hover{
    background: rgba(0,63,125,.10);
    box-shadow: 0 18px 44px rgba(2,6,23,.20);
    transform: translateY(-50%) scale(1.06);
  }
}

/* ---------- Sección “Últimos” + “Ofertas”: look más premium ---------- */
.body-index .contenedor-principal-productos{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 18px;
  margin: 34px 0;
}

/* cajas */
.body-index .contenedor-ultimos,
.body-index .contenedor-ofertas{
  background: rgba(255,255,255,.92);
  border: 1px solid rgba(15,23,42,.10);
  border-radius: 22px;
  box-shadow: 0 16px 44px rgba(2,6,23,.12);
  padding: 14px;
  overflow:hidden;
}

/* títulos */
.body-index .titulo-ultimos,
.body-index .ofertas-productos h2{
  margin: 4px 0 12px;
  text-align: left;
  font-weight: 900;
  letter-spacing: .02em;
  color:#003f7d;
  font-size: 18px;
}

/* grids internos: más orden visual */
.body-index .contenedor-productos-ultimos{
  display:flex;
  flex-wrap: wrap;
  justify-content:flex-start;
  gap: 14px;
  transition: transform .3s ease;
}

/* cards (últimos y ofertas) */
.body-index .card-ultimo,
.body-index .card-oferta{
  width: 100%;
  max-width: 185px;
  border-radius: 16px;
  border: 1px solid rgba(15,23,42,.08);
  background: rgba(255,255,255,.96);
  box-shadow: 0 10px 24px rgba(2,6,23,.10);
  overflow:hidden;

  transition: transform 180ms ease, box-shadow 180ms ease;
}

/* imagen centrada, más “producto” */
.body-index .cover-card-ultimo,
.body-index .cover-card-oferta{
  height: 170px;
  display:flex;
  align-items:center;
  justify-content:center;
  background: linear-gradient(180deg, rgba(0,63,125,.06), rgba(255,255,255,0));
}
.body-index .cover-card-ultimo img,
.body-index .cover-card-oferta img{
  max-width: 92%;
  max-height: 92%;
  object-fit: contain;
  transition: transform 220ms ease;
}

@media (hover:hover){
  .body-index .card-ultimo:hover,
  .body-index .card-oferta:hover{
    transform: translateY(-3px);
    box-shadow: 0 16px 40px rgba(2,6,23,.14);
  }
  .body-index .card-ultimo:hover img,
  .body-index .card-oferta:hover img{
    transform: scale(1.04);
  }
}

/* texto */
.body-index .titulo-producto-ultimo,
.body-index .titulo-producto-oferta{
  padding: 10px 10px 6px;
  text-align:left;
  min-height: 56px;
  display:flex;
  align-items:flex-start;
}
.body-index .nombre-ultimo,
.body-index .titulo-producto-oferta h3{
  margin:0;
  font-size: 13px;
  font-weight: 900;
  color:#0f172a;
  line-height: 1.25;

  /* “3 líneas” aprox sin warnings */
  max-height: calc(1.25em * 3);
  overflow: hidden;
}


/* separador más sutil */
.body-index hr{
  border: 0;
  height: 1px;
  background: rgba(15,23,42,.08);
  margin: 0 10px;
}

/* categoría + precio */
.body-index .categoria-producto-ultimo,
.body-index .categoria-producto-oferta{
  padding: 8px 10px 0;
  text-align:left;
}
.body-index .categoria-ultimo,
.body-index .categoria-producto-oferta h5{
  margin:0;
  font-size: 11px;
  font-weight: 800;
  color: rgba(15,23,42,.62);
}

.body-index .precio-producto-ultimo,
.body-index .precio-producto-oferta{
  padding: 8px 10px 12px;
  text-align:left;
}
.body-index .precio-ultimo,
.body-index .precio-producto-oferta p{
  margin:0;
  font-size: 16px;
  font-weight: 950;
  color:#d90429;
}

/* ofertas: contenedor carrusel más limpio */
.body-index .contenedor-carrousel-ofertas{
  display:flex;
  align-items:center;
  gap: 10px;
}
.body-index .contenedor-productos-ofertas{
  display:flex;
  gap: 14px;
  flex:1;
  justify-content:flex-start;
  align-items:stretch;
  overflow:hidden;
  transition: transform .3s ease;
}

/* flechas ofertas más pro */
.body-index .flecha-izquierda-ofertas,
.body-index .flecha-derecha-ofertas{
  width: 44px;
  height: 44px;
  border-radius: 999px;
  border: 1px solid rgba(15,23,42,.10);
  background: rgba(255,255,255,.92);
  color:#003f7d;
  box-shadow: 0 14px 34px rgba(2,6,23,.14);
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  transition: transform 180ms ease, background 180ms ease, box-shadow 180ms ease;
}
@media (hover:hover){
  .body-index .flecha-izquierda-ofertas:hover,
  .body-index .flecha-derecha-ofertas:hover{
    background: rgba(0,63,125,.10);
    transform: scale(1.06);
    box-shadow: 0 18px 44px rgba(2,6,23,.18);
  }
}

/* ---------- RESPONSIVE: menos scroll vertical, más swipe ---------- */
@media (max-width: 768px){
  /* categorías: NO grilla; swipe horizontal con “peek” */
  .body-index .peliculas-recomendadas{ margin: 18px 0 22px; }
  .body-index .peliculas-recomendadas .contenedor-carrousel{
    padding: 10px 16px;     /* peek más corto */
    scroll-padding: 16px;
  }
  .body-index .peliculas-recomendadas .contenedor-carrousel::before,
  .body-index .peliculas-recomendadas .contenedor-carrousel::after{
    width: 24px;
  }
  .body-index .peliculas-recomendadas .pelicula{
    flex-basis: 86%;
    height: 210px;          /* corta el scroll vertical */
    border-radius: 18px;
  }
  .body-index #flecha-izquierda,
  .body-index #flecha-derecha{
    display:none;           /* el “peek” ya indica que hay más */
  }
  .body-index .peliculas-recomendadas .tarjeta-texto p{
    font-size: 15px;
    padding: 9px 12px;
  }

  /* últimos + ofertas en una columna */
  .body-index .contenedor-principal-productos{
    grid-template-columns: 1fr;
    gap: 14px;
    padding: 0 10px;
  }

  /* cards un poco más grandes para dedo */
  .body-index .card-ultimo,
  .body-index .card-oferta{
    max-width: 210px;
  }
}

/* reduce motion */
@media (prefers-reduced-motion: reduce){
  *{ transition:none !important; scroll-behavior:auto !important; }
}
/* ===== Carrusel categorías: banner debajo de la imagen ===== */
.body-index .peliculas-recomendadas .contenedor-carrousel .carrousel .pelicula{
  position: relative;
  flex: 0 0 clamp(280px, 52vw, 640px);
  border-radius: 22px;
  overflow: hidden;
  scroll-snap-align: center;
  box-shadow: 0 16px 40px rgba(2,6,23,.18);
  background: #fff;
}

.body-index .peliculas-recomendadas .pelicula-link{
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  text-decoration: none;
  color: inherit;
}

.body-index .peliculas-recomendadas .pelicula-link img{
  width: 100%;
  height: clamp(200px, 42vh, 520px);
  object-fit: cover;
  display: block;
  transform: none; /* evita zoom inicial */
}

.body-index .peliculas-recomendadas .tarjeta-texto{
  position: static;          /* <- ya no va superpuesto */
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 14px 16px;
  background: linear-gradient(90deg, rgba(0,63,125,.95), rgba(0,63,125,.78));
}

.body-index .peliculas-recomendadas .tarjeta-texto p{
  margin: 0;
  font-weight: 900;
  letter-spacing: .06em;
  text-transform: uppercase;
  font-size: clamp(14px, 2.2vw, 22px);
  color: #fff;
  text-align: center;
}

/* hover suave */
@media (hover:hover){
  .body-index .peliculas-recomendadas .pelicula:hover{
    transform: translateY(-2px) scale(1.01);
    box-shadow: 0 22px 56px rgba(2,6,23,.22);
  }
  .body-index .peliculas-recomendadas .pelicula:hover img{
    transform: scale(1.06);
    transition: transform 240ms ease;
  }
}

/* mobile */
@media (max-width: 768px){
  .body-index .peliculas-recomendadas .pelicula{
    flex-basis: 86%;
    border-radius: 18px;
  }
  .body-index .peliculas-recomendadas .pelicula-link img{
    height: 210px;
  }
}
